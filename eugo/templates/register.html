{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <!---->
    <link rel="stylesheet" type="text/css" href='{% static "/eugo/css/bootstrap.css" %}' />

    <link rel="icon" href='{%static "/eugo/img/favicon.ico"%}'>

    <title>EUGO</title>

    <!-- Custom styles for this template -->
    <link href='{% static "/eugo/css/cover_cover.css" %}' rel="stylesheet">
    <link href='{% static "/eugo/css/map.css" %}' rel="stylesheet">
</head>

<body>
    <div style="margin-top: 5%;">
    <div class="full-width-bar">
        <h1>EUGO</h1>
    </div>
    
    <div>
        <div class="cov-head">
            <h2 class="secondHeader">Register</h2>
            <hr>
        </div>
        <!-- Use java script to check validation-->

        <script>
            function validateForm() {

                let fname = document.forms['myForm']['firstname'].value;
                let lname = document.forms['myForm']['surname'].value;
                let username = document.forms['myForm']['username'].value;
                let password1 = document.forms['myForm']['password1'].value;
                let password2 = document.forms['myForm']['password2'].value;

                var pwd_expression = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])/;
                var filter = /^(?=.*?[#?!@$%^&*-])+$/;  


                /*Alerts should be change to instead change text underneath the button (Added later) */
                if (filter.test(fname)) {
                    alert("Name must not contain any spaces or special characters")
                    return false;

                } else if (password1 != password2) {
                    alert("Please keep the passwords the same")
                    return false;
                }
            }
        </script>

        <!--
        <div>
            <div class="alert alert-{{message.tags}} alert-dissmissable fade show" role="alert">
                <strong>Message</strong> {{message}}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"> </button>
            </div>
        </div>
    -->

        <form id="formp" name="myForm" class="form" method="POST" action="." onsubmit="return validateForm()">
            <!--action to the php ./homePage.html -->
            {% csrf_token %}
            <!--Prevents csrf attacks -->
            <!--<p id="messages"></p>-->
            <!-- This will have the validation messages from the javascript checks-->
            <div class="form-group">
            <label>
				<input type="text" class="form-control" name="firstname" placeholder="First Name" size="50" required autocomplete="off">
			</label>
            <p id="fname"></p>
            </div>
            <div class="form-group">
            <label>
				<input type="text" class="form-control" name="surname" placeholder="Surname" size="50" required autocomplete="off">
			</label>
            </div>
            <div class="form-group">
            <label>
				<input type="email" class="form-control"  name="email" placeholder="School Email" size="50" required autocomplete="off">
			</label>
            </div>
            <div class="form-group">
            <label>
				<input type="text"  class="form-control" name="username" placeholder="Username" size="50" required autocomplete="off">
			</label>
            </div>
            <div class="form-group">
            <label>
				<input type="password" class="form-control"  name="password1" placeholder="Password" size="50" minlength="8" required>
			</label>
            </div>
            <div class="form-group">
            <label>
				<input type="password" class="form-control" name="password2" placeholder="Re-enter Password" size="50" minlength="8" required >
			</label>
            </div>
            <img src="">
            <img src="">
            <img src="">
            <div class="image mt-3 mb-3 img-container" id="sliderImages">
                <img src='{% static "/eugo/img/teacher_sprites/teacher_1.png" %}' class="spirite-img">
                <img src='{% static "/eugo/img/teacher_sprites/teacher_2.png" %}' class="spirite-img">
                <img src='{% static "/eugo/img/teacher_sprites/teacher_3.png" %}' class="spirite-img">
            </div>
            
            <p>Please Select an Avatar</p>
            <input class="rangeslider" type="range" id="sprite" name="sprite"
            min="1" max="3" value="1">

            <br><br>

            <label>
				<a href="https://gdpr.eu/terms-and-conditions/" class="text-muted">Please read and check the Terms and Conditions</a>
				<input type="checkbox" name="terms" value="" required>
			</label>
            <br>
            <div class="btn-group" role="group" aria-label="Basic example">
            <label>
				<input type="submit"  class="btn btn-primary" value="Register" size="25">
			</label>
            <br>
        </form>
        <form action="/eugo/login" class="form">
            <label>
				<input type="submit" class="btn btn-secondary" value="Return to Login" size="25">
			</label>
        </form>
    </div>
        
</body>

<script>        window.addEventListener('load', function() {
    var rangeslider = document.getElementById("sprite");

    var images = document.getElementById("sliderImages");

    rangeslider.addEventListener('input', function() {
    for (var i = 0; i < images.children.length; i++) {
        images.children[i].style.display = 'none';
    }
    i = Number(this.value) - 1;
    images.children[i].style.display = 'block';
    });
});</script>

</html>